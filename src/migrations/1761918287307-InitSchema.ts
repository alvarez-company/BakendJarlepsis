import { MigrationInterface, QueryRunner } from "typeorm";

export class InitSchema1761918287307 implements MigrationInterface {
    name = 'InitSchema1761918287307'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`CREATE TABLE \`usuarios_grupos\` (\`usuarioGrupoId\` int NOT NULL AUTO_INCREMENT, \`grupoId\` int NOT NULL, \`usuarioId\` int NOT NULL, \`activo\` tinyint NOT NULL DEFAULT 1, \`ultimaLectura\` datetime NULL, \`fechaIngreso\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), PRIMARY KEY (\`usuarioGrupoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`traslados\` (\`trasladoId\` int NOT NULL AUTO_INCREMENT, \`materialId\` int NOT NULL, \`bodegaOrigenId\` int NOT NULL, \`bodegaDestinoId\` int NOT NULL, \`trasladoCantidad\` decimal(10,2) NOT NULL, \`trasladoEstado\` enum ('pendiente', 'en_transito', 'completado', 'cancelado') NOT NULL DEFAULT 'pendiente', \`trasladoObservaciones\` text NULL, \`usuarioId\` int NOT NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`trasladoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`usuarios\` (\`usuarioId\` int NOT NULL AUTO_INCREMENT, \`usuarioRolId\` int NOT NULL, \`usuarioSede\` int NULL, \`usuarioBodega\` int NULL, \`usuarioOficina\` int NULL, \`usuarioNombre\` varchar(255) NOT NULL, \`usuarioApellido\` varchar(255) NOT NULL, \`usuarioCorreo\` varchar(255) NOT NULL, \`usuarioTelefono\` varchar(255) NULL, \`usuarioDocumento\` varchar(255) NOT NULL, \`usuarioContrasena\` varchar(255) NOT NULL, \`usuarioCreador\` int NULL, \`usuarioEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_3d090cdeca516ff8862c759d27\` (\`usuarioCorreo\`), UNIQUE INDEX \`IDX_36aa532a927ba2af16a4129f76\` (\`usuarioDocumento\`), PRIMARY KEY (\`usuarioId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`tipos_proyecto\` (\`tipoProyectoId\` int NOT NULL AUTO_INCREMENT, \`tipoProyectoNombre\` varchar(255) NOT NULL, \`tipoProyectoDescripcion\` text NULL, \`tipoProyectoEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`tipoProyectoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`tipos_instalacion\` (\`tipoInstalacionId\` int NOT NULL AUTO_INCREMENT, \`tipoInstalacionNombre\` varchar(255) NOT NULL, \`usuarioRegistra\` int NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`tipoInstalacionId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`bodegas\` (\`bodegaId\` int NOT NULL AUTO_INCREMENT, \`bodegaNombre\` varchar(255) NOT NULL, \`bodegaDescripcion\` text NULL, \`bodegaUbicacion\` varchar(255) NULL, \`bodegaEstado\` tinyint NOT NULL DEFAULT 1, \`oficinaId\` int NOT NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`bodegaId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`paises\` (\`paisId\` int NOT NULL AUTO_INCREMENT, \`paisNombre\` varchar(255) NOT NULL, \`paisCodigo\` varchar(255) NULL, \`paisEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_a41210098923b3a0d106f35392\` (\`paisNombre\`), PRIMARY KEY (\`paisId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`departamentos\` (\`departamentoId\` int NOT NULL AUTO_INCREMENT, \`departamentoNombre\` varchar(255) NOT NULL, \`departamentoCodigo\` varchar(255) NULL, \`departamentoEstado\` tinyint NOT NULL DEFAULT 1, \`paisId\` int NOT NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`departamentoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`municipios\` (\`municipioId\` int NOT NULL AUTO_INCREMENT, \`municipioNombre\` varchar(255) NOT NULL, \`municipioCodigo\` varchar(255) NULL, \`municipioEstado\` tinyint NOT NULL DEFAULT 1, \`departamentoId\` int NOT NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`municipioId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`oficinas\` (\`oficinaId\` int NOT NULL AUTO_INCREMENT, \`oficinaNombre\` varchar(255) NOT NULL, \`municipioId\` int NOT NULL, \`oficinaDireccion\` text NULL, \`oficinaTelefono\` varchar(255) NULL, \`oficinaEstado\` tinyint NOT NULL DEFAULT 1, \`sedeId\` int NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`oficinaId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`sedes\` (\`sedeId\` int NOT NULL AUTO_INCREMENT, \`sedeNombre\` varchar(255) NOT NULL, \`departamentoId\` int NOT NULL, \`sedeDireccion\` text NULL, \`sedeTelefono\` varchar(255) NULL, \`sedeEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`sedeId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`roles\` (\`rolId\` int NOT NULL AUTO_INCREMENT, \`rolNombre\` varchar(255) NOT NULL, \`rolTipo\` enum ('superadmin', 'admin', 'tecnico', 'empleado', 'bodega', 'inventario', 'traslados', 'devoluciones', 'salidas', 'entradas', 'instalaciones') NOT NULL, \`rolDescripcion\` text NULL, \`rolEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_15922727e742377c8688c0eac8\` (\`rolNombre\`), PRIMARY KEY (\`rolId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`reacciones_mensaje\` (\`reaccionMensajeId\` int NOT NULL AUTO_INCREMENT, \`mensajeId\` int NOT NULL, \`usuarioId\` int NOT NULL, \`tipoReaccion\` varchar(255) NOT NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_638497cb6108396310e63eb241\` (\`mensajeId\`, \`usuarioId\`), PRIMARY KEY (\`reaccionMensajeId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`proyectos\` (\`proyectoId\` int NOT NULL AUTO_INCREMENT, \`proyectoNombre\` varchar(255) NOT NULL, \`proyectoDescripcion\` text NULL, \`proyectoCodigo\` varchar(255) NULL, \`tipoProyectoId\` int NOT NULL, \`proyectoEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`proyectoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`proveedores\` (\`proveedorId\` int NOT NULL AUTO_INCREMENT, \`proveedorNombre\` varchar(255) NOT NULL, \`proveedorNit\` varchar(255) NULL, \`proveedorTelefono\` varchar(255) NULL, \`proveedorEmail\` varchar(255) NULL, \`proveedorDireccion\` text NULL, \`proveedorContacto\` varchar(255) NULL, \`proveedorEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`proveedorId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`notificaciones\` (\`notificacionId\` int NOT NULL AUTO_INCREMENT, \`usuarioId\` int NOT NULL, \`tipoNotificacion\` enum ('mensaje_nuevo', 'reaccion_mensaje', 'instalacion_completada', 'instalacion_asignada', 'instalacion_en_proceso', 'instalacion_cancelada', 'mensaje_respondido', 'usuario_ingreso_grupo', 'usuario_salio_grupo') NOT NULL, \`titulo\` varchar(255) NOT NULL, \`contenido\` text NOT NULL, \`datosAdicionales\` json NULL, \`grupoId\` int NULL, \`instalacionId\` int NULL, \`mensajeId\` int NULL, \`leida\` tinyint NOT NULL DEFAULT 0, \`fechaLectura\` datetime NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_81759d00842f38b504bd238a2d\` (\`usuarioId\`, \`fechaCreacion\`), INDEX \`IDX_b8916de45f1822fa3cad6d6f37\` (\`usuarioId\`, \`leida\`), PRIMARY KEY (\`notificacionId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`movimientos_inventario\` (\`movimientoId\` int NOT NULL AUTO_INCREMENT, \`materialId\` int NOT NULL, \`movimientoTipo\` enum ('entrada', 'salida', 'devolucion') NOT NULL, \`movimientoCantidad\` decimal(10,2) NOT NULL, \`movimientoPrecioUnitario\` decimal(10,2) NULL, \`movimientoObservaciones\` text NULL, \`instalacionId\` int NULL, \`usuarioId\` int NOT NULL, \`proveedorId\` int NULL, \`movimientoEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`movimientoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`materiales\` (\`materialId\` int NOT NULL AUTO_INCREMENT, \`categoriaId\` int NOT NULL, \`proveedorId\` int NOT NULL, \`inventarioId\` int NOT NULL, \`materialCodigo\` varchar(255) NOT NULL, \`materialNombre\` varchar(255) NOT NULL, \`materialDescripcion\` text NULL, \`materialStock\` decimal(10,2) NOT NULL DEFAULT '0.00', \`materialStockMinimo\` decimal(10,2) NOT NULL DEFAULT '0.00', \`materialStockMaximo\` decimal(10,2) NULL, \`materialPrecio\` decimal(10,2) NOT NULL, \`materialUnidadMedida\` enum ('unidad', 'kg', 'g', 'litro', 'metro', 'caja', 'paquete') NOT NULL DEFAULT 'unidad', \`materialMarca\` varchar(255) NULL, \`materialModelo\` varchar(255) NULL, \`materialSerial\` varchar(255) NULL, \`materialCodigoBarras\` varchar(255) NULL, \`materialFoto\` varchar(255) NULL, \`usuarioRegistra\` int NULL, \`materialEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_6ac180232daec766814754ce76\` (\`materialCodigo\`), PRIMARY KEY (\`materialId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`mensajes\` (\`mensajeId\` int NOT NULL AUTO_INCREMENT, \`grupoId\` int NOT NULL, \`usuarioId\` int NOT NULL, \`mensajeTexto\` text NOT NULL, \`mensajeRespuestaId\` int NULL, \`archivosAdjuntos\` json NULL, \`mensajeEditado\` tinyint NOT NULL DEFAULT 0, \`mensajeActivo\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`mensajeId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`inventarios\` (\`inventarioId\` int NOT NULL AUTO_INCREMENT, \`inventarioNombre\` varchar(255) NOT NULL, \`inventarioDescripcion\` text NULL, \`bodegaId\` int NOT NULL, \`inventarioEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`inventarioId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`items_proyecto\` (\`itemProyectoId\` int NOT NULL AUTO_INCREMENT, \`proyectoId\` int NOT NULL, \`materialId\` int NOT NULL, \`itemCantidad\` decimal(10,2) NOT NULL, \`itemDescripcion\` text NULL, \`itemEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`itemProyectoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`instalaciones\` (\`instalacionId\` int NOT NULL AUTO_INCREMENT, \`instalacionCodigo\` varchar(255) NOT NULL, \`tipoInstalacionId\` int NOT NULL, \`clienteId\` int NOT NULL, \`instalacionMedidorNumero\` varchar(255) NULL, \`instalacionSelloNumero\` varchar(255) NULL, \`instalacionFechaHora\` datetime NULL, \`materialesInstalados\` json NULL, \`instalacionProyectos\` json NULL, \`instalacionObservaciones\` text NULL, \`estado\` enum ('pendiente', 'en_proceso', 'completada', 'cancelada') NOT NULL DEFAULT 'pendiente', \`usuarioRegistra\` int NOT NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`instalacionId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`instalaciones_usuarios\` (\`instalacionUsuarioId\` int NOT NULL AUTO_INCREMENT, \`instalacionId\` int NOT NULL, \`usuarioId\` int NOT NULL, \`rolEnInstalacion\` varchar(255) NULL, \`observaciones\` text NULL, \`activo\` tinyint NOT NULL DEFAULT 1, \`fechaAsignacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), PRIMARY KEY (\`instalacionUsuarioId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`grupos\` (\`grupoId\` int NOT NULL AUTO_INCREMENT, \`grupoNombre\` varchar(255) NOT NULL, \`grupoDescripcion\` text NULL, \`tipoGrupo\` enum ('general', 'oficina', 'bodega', 'instalacion') NOT NULL DEFAULT 'general', \`entidadId\` int NULL, \`grupoActivo\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`grupoId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`estados_usuario\` (\`estadoUsuarioId\` int NOT NULL AUTO_INCREMENT, \`usuarioId\` int NOT NULL, \`estado\` enum ('desconectado', 'en_linea', 'ocupado') NOT NULL DEFAULT 'desconectado', \`mensajeEstado\` text NULL, \`ultimaConexion\` datetime NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_4ca4e684bd67c06bfb6742a6db\` (\`usuarioId\`), UNIQUE INDEX \`REL_4ca4e684bd67c06bfb6742a6db\` (\`usuarioId\`), PRIMARY KEY (\`estadoUsuarioId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`clientes\` (\`clienteId\` int NOT NULL AUTO_INCREMENT, \`clienteNombreCompleto\` varchar(255) NOT NULL, \`clienteTelefono\` varchar(255) NULL, \`clienteCorreo\` varchar(255) NULL, \`clienteDocumento\` varchar(255) NOT NULL, \`clienteDireccion\` text NOT NULL, \`municipioId\` int NULL, \`cantidadInstalaciones\` int NOT NULL DEFAULT '0', \`usuarioRegistra\` int NULL, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_40e6ad87dd45613db7c261ac3d\` (\`clienteDocumento\`), PRIMARY KEY (\`clienteId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`categorias\` (\`categoriaId\` int NOT NULL AUTO_INCREMENT, \`categoriaNombre\` varchar(255) NOT NULL, \`categoriaDescripcion\` text NULL, \`categoriaCodigo\` varchar(255) NULL, \`categoriaPadreId\` int NULL, \`categoriaEstado\` tinyint NOT NULL DEFAULT 1, \`fechaCreacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`fechaActualizacion\` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), PRIMARY KEY (\`categoriaId\`)) ENGINE=InnoDB`);
        await queryRunner.query(`ALTER TABLE \`usuarios_grupos\` ADD CONSTRAINT \`FK_19346f34021c43ddcb4b71ca01b\` FOREIGN KEY (\`grupoId\`) REFERENCES \`grupos\`(\`grupoId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`usuarios_grupos\` ADD CONSTRAINT \`FK_61a07e5dbd1ff5229b79ce78b44\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`traslados\` ADD CONSTRAINT \`FK_6b73b2406e43cf61e42a5cc1699\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`traslados\` ADD CONSTRAINT \`FK_01892687c6a32a6f06e19f2785a\` FOREIGN KEY (\`materialId\`) REFERENCES \`materiales\`(\`materialId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`traslados\` ADD CONSTRAINT \`FK_07994d68d25f24d9ff11f2f7012\` FOREIGN KEY (\`bodegaOrigenId\`) REFERENCES \`bodegas\`(\`bodegaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`traslados\` ADD CONSTRAINT \`FK_7a90ecff82a88635ff8ee0b8925\` FOREIGN KEY (\`bodegaDestinoId\`) REFERENCES \`bodegas\`(\`bodegaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`usuarios\` ADD CONSTRAINT \`FK_52df7eb55c68bbf86ffcbb2a4d3\` FOREIGN KEY (\`usuarioRolId\`) REFERENCES \`roles\`(\`rolId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`usuarios\` ADD CONSTRAINT \`FK_5c23fae8dc660d2711fd2d74f4e\` FOREIGN KEY (\`usuarioSede\`) REFERENCES \`sedes\`(\`sedeId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`usuarios\` ADD CONSTRAINT \`FK_1436739801d0240d740d7ec03a8\` FOREIGN KEY (\`usuarioOficina\`) REFERENCES \`oficinas\`(\`oficinaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`usuarios\` ADD CONSTRAINT \`FK_465482a862dbdd1c7f5deba35b4\` FOREIGN KEY (\`usuarioBodega\`) REFERENCES \`bodegas\`(\`bodegaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`bodegas\` ADD CONSTRAINT \`FK_7aa38510f9d318ddd2dff2f0de2\` FOREIGN KEY (\`oficinaId\`) REFERENCES \`oficinas\`(\`oficinaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`departamentos\` ADD CONSTRAINT \`FK_d5965811c677912cf9b30c012a8\` FOREIGN KEY (\`paisId\`) REFERENCES \`paises\`(\`paisId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`municipios\` ADD CONSTRAINT \`FK_d2a44d822f76137f2ad59ed4e14\` FOREIGN KEY (\`departamentoId\`) REFERENCES \`departamentos\`(\`departamentoId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`oficinas\` ADD CONSTRAINT \`FK_2b905fece0e231244e482ef90ef\` FOREIGN KEY (\`municipioId\`) REFERENCES \`municipios\`(\`municipioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`oficinas\` ADD CONSTRAINT \`FK_00f0183748f6222aba567d51007\` FOREIGN KEY (\`sedeId\`) REFERENCES \`sedes\`(\`sedeId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`sedes\` ADD CONSTRAINT \`FK_a29f68131e1e64b83eb47f61a9c\` FOREIGN KEY (\`departamentoId\`) REFERENCES \`departamentos\`(\`departamentoId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`reacciones_mensaje\` ADD CONSTRAINT \`FK_17f9e1a02a87a20990b068c62ba\` FOREIGN KEY (\`mensajeId\`) REFERENCES \`mensajes\`(\`mensajeId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`reacciones_mensaje\` ADD CONSTRAINT \`FK_4c8fdd44cb5646add3f24b20a96\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`proyectos\` ADD CONSTRAINT \`FK_a1900389f6aa7305d2018fc9e18\` FOREIGN KEY (\`tipoProyectoId\`) REFERENCES \`tipos_proyecto\`(\`tipoProyectoId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`notificaciones\` ADD CONSTRAINT \`FK_125b6cc2388b61c1b00c633c673\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`movimientos_inventario\` ADD CONSTRAINT \`FK_c9f92ec677067abab7e57dfe881\` FOREIGN KEY (\`instalacionId\`) REFERENCES \`instalaciones\`(\`instalacionId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`movimientos_inventario\` ADD CONSTRAINT \`FK_cb6886f6f3ab00b6f2abb362d2f\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`movimientos_inventario\` ADD CONSTRAINT \`FK_2bb1b847524ee608623272c6d3a\` FOREIGN KEY (\`proveedorId\`) REFERENCES \`proveedores\`(\`proveedorId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`materiales\` ADD CONSTRAINT \`FK_7012970c3aa654bf7089841c7e1\` FOREIGN KEY (\`categoriaId\`) REFERENCES \`categorias\`(\`categoriaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`materiales\` ADD CONSTRAINT \`FK_e18bfec6e2c60d47591fd62db1b\` FOREIGN KEY (\`proveedorId\`) REFERENCES \`proveedores\`(\`proveedorId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`materiales\` ADD CONSTRAINT \`FK_70b2f1e5be350d561a08db3162f\` FOREIGN KEY (\`inventarioId\`) REFERENCES \`inventarios\`(\`inventarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`mensajes\` ADD CONSTRAINT \`FK_8ea1dc1770a82d6d817c0c3688f\` FOREIGN KEY (\`grupoId\`) REFERENCES \`grupos\`(\`grupoId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`mensajes\` ADD CONSTRAINT \`FK_d8eb81491fa2290c318a9e3e64c\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`mensajes\` ADD CONSTRAINT \`FK_b9d2ab76b3675eb25429e7c68ac\` FOREIGN KEY (\`mensajeRespuestaId\`) REFERENCES \`mensajes\`(\`mensajeId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`inventarios\` ADD CONSTRAINT \`FK_6b21221c35a226aa96e284a0dfa\` FOREIGN KEY (\`bodegaId\`) REFERENCES \`bodegas\`(\`bodegaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`items_proyecto\` ADD CONSTRAINT \`FK_10b2ebe48e25edd38576088acbb\` FOREIGN KEY (\`proyectoId\`) REFERENCES \`proyectos\`(\`proyectoId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`items_proyecto\` ADD CONSTRAINT \`FK_b4f373909da9224964e354e155c\` FOREIGN KEY (\`materialId\`) REFERENCES \`materiales\`(\`materialId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`instalaciones\` ADD CONSTRAINT \`FK_47c1485c67d5815dccc10ceb2f0\` FOREIGN KEY (\`tipoInstalacionId\`) REFERENCES \`tipos_instalacion\`(\`tipoInstalacionId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`instalaciones\` ADD CONSTRAINT \`FK_4d32ba756d353653458e406c496\` FOREIGN KEY (\`clienteId\`) REFERENCES \`clientes\`(\`clienteId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`instalaciones_usuarios\` ADD CONSTRAINT \`FK_5a29cf21d777335d79342d30cea\` FOREIGN KEY (\`instalacionId\`) REFERENCES \`instalaciones\`(\`instalacionId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`instalaciones_usuarios\` ADD CONSTRAINT \`FK_2ee55201259841cc3357c49531c\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`estados_usuario\` ADD CONSTRAINT \`FK_4ca4e684bd67c06bfb6742a6dbe\` FOREIGN KEY (\`usuarioId\`) REFERENCES \`usuarios\`(\`usuarioId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`categorias\` ADD CONSTRAINT \`FK_256f7b54d0d61f76d19bcdd445b\` FOREIGN KEY (\`categoriaPadreId\`) REFERENCES \`categorias\`(\`categoriaId\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE \`categorias\` DROP FOREIGN KEY \`FK_256f7b54d0d61f76d19bcdd445b\``);
        await queryRunner.query(`ALTER TABLE \`estados_usuario\` DROP FOREIGN KEY \`FK_4ca4e684bd67c06bfb6742a6dbe\``);
        await queryRunner.query(`ALTER TABLE \`instalaciones_usuarios\` DROP FOREIGN KEY \`FK_2ee55201259841cc3357c49531c\``);
        await queryRunner.query(`ALTER TABLE \`instalaciones_usuarios\` DROP FOREIGN KEY \`FK_5a29cf21d777335d79342d30cea\``);
        await queryRunner.query(`ALTER TABLE \`instalaciones\` DROP FOREIGN KEY \`FK_4d32ba756d353653458e406c496\``);
        await queryRunner.query(`ALTER TABLE \`instalaciones\` DROP FOREIGN KEY \`FK_47c1485c67d5815dccc10ceb2f0\``);
        await queryRunner.query(`ALTER TABLE \`items_proyecto\` DROP FOREIGN KEY \`FK_b4f373909da9224964e354e155c\``);
        await queryRunner.query(`ALTER TABLE \`items_proyecto\` DROP FOREIGN KEY \`FK_10b2ebe48e25edd38576088acbb\``);
        await queryRunner.query(`ALTER TABLE \`inventarios\` DROP FOREIGN KEY \`FK_6b21221c35a226aa96e284a0dfa\``);
        await queryRunner.query(`ALTER TABLE \`mensajes\` DROP FOREIGN KEY \`FK_b9d2ab76b3675eb25429e7c68ac\``);
        await queryRunner.query(`ALTER TABLE \`mensajes\` DROP FOREIGN KEY \`FK_d8eb81491fa2290c318a9e3e64c\``);
        await queryRunner.query(`ALTER TABLE \`mensajes\` DROP FOREIGN KEY \`FK_8ea1dc1770a82d6d817c0c3688f\``);
        await queryRunner.query(`ALTER TABLE \`materiales\` DROP FOREIGN KEY \`FK_70b2f1e5be350d561a08db3162f\``);
        await queryRunner.query(`ALTER TABLE \`materiales\` DROP FOREIGN KEY \`FK_e18bfec6e2c60d47591fd62db1b\``);
        await queryRunner.query(`ALTER TABLE \`materiales\` DROP FOREIGN KEY \`FK_7012970c3aa654bf7089841c7e1\``);
        await queryRunner.query(`ALTER TABLE \`movimientos_inventario\` DROP FOREIGN KEY \`FK_2bb1b847524ee608623272c6d3a\``);
        await queryRunner.query(`ALTER TABLE \`movimientos_inventario\` DROP FOREIGN KEY \`FK_cb6886f6f3ab00b6f2abb362d2f\``);
        await queryRunner.query(`ALTER TABLE \`movimientos_inventario\` DROP FOREIGN KEY \`FK_c9f92ec677067abab7e57dfe881\``);
        await queryRunner.query(`ALTER TABLE \`notificaciones\` DROP FOREIGN KEY \`FK_125b6cc2388b61c1b00c633c673\``);
        await queryRunner.query(`ALTER TABLE \`proyectos\` DROP FOREIGN KEY \`FK_a1900389f6aa7305d2018fc9e18\``);
        await queryRunner.query(`ALTER TABLE \`reacciones_mensaje\` DROP FOREIGN KEY \`FK_4c8fdd44cb5646add3f24b20a96\``);
        await queryRunner.query(`ALTER TABLE \`reacciones_mensaje\` DROP FOREIGN KEY \`FK_17f9e1a02a87a20990b068c62ba\``);
        await queryRunner.query(`ALTER TABLE \`sedes\` DROP FOREIGN KEY \`FK_a29f68131e1e64b83eb47f61a9c\``);
        await queryRunner.query(`ALTER TABLE \`oficinas\` DROP FOREIGN KEY \`FK_00f0183748f6222aba567d51007\``);
        await queryRunner.query(`ALTER TABLE \`oficinas\` DROP FOREIGN KEY \`FK_2b905fece0e231244e482ef90ef\``);
        await queryRunner.query(`ALTER TABLE \`municipios\` DROP FOREIGN KEY \`FK_d2a44d822f76137f2ad59ed4e14\``);
        await queryRunner.query(`ALTER TABLE \`departamentos\` DROP FOREIGN KEY \`FK_d5965811c677912cf9b30c012a8\``);
        await queryRunner.query(`ALTER TABLE \`bodegas\` DROP FOREIGN KEY \`FK_7aa38510f9d318ddd2dff2f0de2\``);
        await queryRunner.query(`ALTER TABLE \`usuarios\` DROP FOREIGN KEY \`FK_465482a862dbdd1c7f5deba35b4\``);
        await queryRunner.query(`ALTER TABLE \`usuarios\` DROP FOREIGN KEY \`FK_1436739801d0240d740d7ec03a8\``);
        await queryRunner.query(`ALTER TABLE \`usuarios\` DROP FOREIGN KEY \`FK_5c23fae8dc660d2711fd2d74f4e\``);
        await queryRunner.query(`ALTER TABLE \`usuarios\` DROP FOREIGN KEY \`FK_52df7eb55c68bbf86ffcbb2a4d3\``);
        await queryRunner.query(`ALTER TABLE \`traslados\` DROP FOREIGN KEY \`FK_7a90ecff82a88635ff8ee0b8925\``);
        await queryRunner.query(`ALTER TABLE \`traslados\` DROP FOREIGN KEY \`FK_07994d68d25f24d9ff11f2f7012\``);
        await queryRunner.query(`ALTER TABLE \`traslados\` DROP FOREIGN KEY \`FK_01892687c6a32a6f06e19f2785a\``);
        await queryRunner.query(`ALTER TABLE \`traslados\` DROP FOREIGN KEY \`FK_6b73b2406e43cf61e42a5cc1699\``);
        await queryRunner.query(`ALTER TABLE \`usuarios_grupos\` DROP FOREIGN KEY \`FK_61a07e5dbd1ff5229b79ce78b44\``);
        await queryRunner.query(`ALTER TABLE \`usuarios_grupos\` DROP FOREIGN KEY \`FK_19346f34021c43ddcb4b71ca01b\``);
        await queryRunner.query(`DROP TABLE \`categorias\``);
        await queryRunner.query(`DROP INDEX \`IDX_40e6ad87dd45613db7c261ac3d\` ON \`clientes\``);
        await queryRunner.query(`DROP TABLE \`clientes\``);
        await queryRunner.query(`DROP INDEX \`REL_4ca4e684bd67c06bfb6742a6db\` ON \`estados_usuario\``);
        await queryRunner.query(`DROP INDEX \`IDX_4ca4e684bd67c06bfb6742a6db\` ON \`estados_usuario\``);
        await queryRunner.query(`DROP TABLE \`estados_usuario\``);
        await queryRunner.query(`DROP TABLE \`grupos\``);
        await queryRunner.query(`DROP TABLE \`instalaciones_usuarios\``);
        await queryRunner.query(`DROP TABLE \`instalaciones\``);
        await queryRunner.query(`DROP TABLE \`items_proyecto\``);
        await queryRunner.query(`DROP TABLE \`inventarios\``);
        await queryRunner.query(`DROP TABLE \`mensajes\``);
        await queryRunner.query(`DROP INDEX \`IDX_6ac180232daec766814754ce76\` ON \`materiales\``);
        await queryRunner.query(`DROP TABLE \`materiales\``);
        await queryRunner.query(`DROP TABLE \`movimientos_inventario\``);
        await queryRunner.query(`DROP INDEX \`IDX_b8916de45f1822fa3cad6d6f37\` ON \`notificaciones\``);
        await queryRunner.query(`DROP INDEX \`IDX_81759d00842f38b504bd238a2d\` ON \`notificaciones\``);
        await queryRunner.query(`DROP TABLE \`notificaciones\``);
        await queryRunner.query(`DROP TABLE \`proveedores\``);
        await queryRunner.query(`DROP TABLE \`proyectos\``);
        await queryRunner.query(`DROP INDEX \`IDX_638497cb6108396310e63eb241\` ON \`reacciones_mensaje\``);
        await queryRunner.query(`DROP TABLE \`reacciones_mensaje\``);
        await queryRunner.query(`DROP INDEX \`IDX_15922727e742377c8688c0eac8\` ON \`roles\``);
        await queryRunner.query(`DROP TABLE \`roles\``);
        await queryRunner.query(`DROP TABLE \`sedes\``);
        await queryRunner.query(`DROP TABLE \`oficinas\``);
        await queryRunner.query(`DROP TABLE \`municipios\``);
        await queryRunner.query(`DROP TABLE \`departamentos\``);
        await queryRunner.query(`DROP INDEX \`IDX_a41210098923b3a0d106f35392\` ON \`paises\``);
        await queryRunner.query(`DROP TABLE \`paises\``);
        await queryRunner.query(`DROP TABLE \`bodegas\``);
        await queryRunner.query(`DROP TABLE \`tipos_instalacion\``);
        await queryRunner.query(`DROP TABLE \`tipos_proyecto\``);
        await queryRunner.query(`DROP INDEX \`IDX_36aa532a927ba2af16a4129f76\` ON \`usuarios\``);
        await queryRunner.query(`DROP INDEX \`IDX_3d090cdeca516ff8862c759d27\` ON \`usuarios\``);
        await queryRunner.query(`DROP TABLE \`usuarios\``);
        await queryRunner.query(`DROP TABLE \`traslados\``);
        await queryRunner.query(`DROP TABLE \`usuarios_grupos\``);
    }

}
